# =============================================================================
# Axiom Design Engine - Production Environment Template
# Copy to .env.production and configure with secure values
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Use managed database in production)
# -----------------------------------------------------------------------------
POSTGRES_USER=axiom_prod
POSTGRES_PASSWORD=<generate-strong-password>
POSTGRES_DB=axiom_engine_prod
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Redis (Use managed Redis in production)
# -----------------------------------------------------------------------------
REDIS_PASSWORD=<generate-strong-password>
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# -----------------------------------------------------------------------------
# Security - MUST BE CHANGED FOR PRODUCTION
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
JWT_SECRET=<generate-with-openssl-rand-hex-32>
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Generate with: openssl rand -hex 32
WORKER_API_KEY=<generate-with-openssl-rand-hex-32>

# -----------------------------------------------------------------------------
# Storage - Use S3 in production
# -----------------------------------------------------------------------------
STORAGE_BACKEND=s3
STORAGE_PATH=/data/axiom-storage

S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_ACCESS_KEY=<your-aws-access-key>
S3_SECRET_KEY=<your-aws-secret-key>
S3_BUCKET_NAME=axiom-assets-prod
S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# ComfyUI
# -----------------------------------------------------------------------------
COMFYUI_ENDPOINT=http://comfyui:8188
COMFYUI_WEBSOCKET_URL=ws://comfyui:8188/ws
COMFYUI_TIMEOUT=1800

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_ENV=production
LOG_LEVEL=WARNING

BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# Use your production domain
NEXT_PUBLIC_API_BASE_URL=https://api.yourdomain.com
NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com

# -----------------------------------------------------------------------------
# GPU
# -----------------------------------------------------------------------------
CUDA_VISIBLE_DEVICES=0
GPU_MIN_VRAM_MB=12288
GPU_MEMORY_FRACTION=0.95

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
GRAFANA_USER=admin
GRAFANA_PASSWORD=<generate-strong-password>
PROMETHEUS_ENABLED=true

# Sentry for error tracking
SENTRY_DSN=https://<key>@sentry.io/<project>

# -----------------------------------------------------------------------------
# Email (Use production SMTP)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=<your-sendgrid-api-key>
SMTP_FROM=noreply@yourdomain.com

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60
